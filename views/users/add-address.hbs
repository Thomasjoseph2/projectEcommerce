



    <!-- Start Banner Area -->
    <section class="banner-area organic-breadcrumb">
        <div class="container">
            <div class="breadcrumb-banner d-flex flex-wrap align-items-center justify-content-end">
                <div class="col-first">
                    <h1>Address Details</h1>
                    <nav class="d-flex align-items-center">
                        <a href="index.html">Home<span class="lnr lnr-arrow-right"></span></a>
                        <a href="category.html">Cart</a>
                    </nav>
                </div>
            </div>
            
        </div>
       
    <div class="col-lg-3 mr-auto " style="margin-left: 25vh; margin-bottom:4vh">
      <button style="background-color: #f2ab05;color:white;" class="btn  mr-auto" data-toggle="modal" data-target="#addAddressModal">Add Address</button>
    </div>

    </section>
    <section class="container">
   

<div class="card">
    {{#if address}}
  <div class="card-body">
  <div class="row">
    {{#each address}}
        <div class="col-md-6">
          <div class="card mb-4">
            <div class="card-body">
              <h6 class="card-subtitle mb-2 text-muted">Address</h6>
              <p class="card-text">Name: {{this.name}}</p>
              <p class="card-text">Email: {{this.email}}</p>
              <p class="card-text">Phone: {{this.phoneNumber}}</p>
              <p class="card-text">Address: {{this.address1}}</p>
              <p class="card-text">City: {{this.city}}</p>
              <p class="card-text">Pin: {{this.pin}}</p>
              {{#if this.primary}}
              <button class="quantity-btn btn-success make-primary-btn ">Primary</button>
              {{else}}
              <button class="quantity-btn btn-primary make-primary-btn"
                onclick="makePrimary('{{this._id}}')">Make Primary</button>
                <button class="quantity-btn btn-danger" onclick="removeAddress('{{this._id}}')">Remove Address</button>
              {{/if}}
              
            </div>
          </div>
        </div>
        {{/each}}
      
       
         
       
  </div>
</div>
{{else}}
<h1>Add your address here..</h1>

  {{/if}}
</div>
<!-- Add Address Modal -->
<div class="modal fade" id="addAddressModal" tabindex="-1" role="dialog" aria-labelledby="addAddressModalLabel" aria-hidden="true">
  <div class="modal-dialog" role="document">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title" id="addAddressModalLabel">Add Address</h5>
        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body">
        <form id="addAddressForm" action="/add-address" method="post">
          <div class="form-group">
            <label for="name">Full Name</label>
            <input type="text" class="form-control" id="name" name="name" required>
          </div>
          <div class="form-group">
            <label for="phone">Phone</label>
            <input type="tel" class="form-control" id="phone" name="phoneNumber" required>
          </div>
          <div class="form-group">
            <label for="phone">Phone 2</label>
            <input type="tel" class="form-control" id="phone" name="phoneNumber2" required>
          </div>
          <div class="form-group">
            <label for="name">Email</label>
            <input type="text" class="form-control" id="email" name="email" required>
          </div>
          <div class="form-group">
            <label for="address1">Address Line 1</label>
            <input type="text" class="form-control" id="address1" name="address1" required>
          </div>
         
          <div class="form-row">
            <div class="form-group col-md-6">
              <label for="city">City</label>
              <input type="text" class="form-control" id="city" name="city" required>
            </div>
            <div class="form-group col-md-6">
              <label for="state">State</label>
              <input type="text" class="form-control" id="state" name="state" required>
            </div>
          </div>
          <div class="form-row">
            <div class="form-group col-md-6">
              <label for="zip">pin</label>
              <input type="text" class="form-control" id="zip" name="pin" required>
            </div>
            <div class="form-group col-md-6">
              <label for="country">Country</label>
              <input type="text" class="form-control" id="country" name="country" required>
            </div>
          </div>
          <button type="submit" class="btn btn-primary">Save Address</button>
        </form>
      </div>
    </div>
  </div>
</div>
 </section>
    <footer class="footer-area section_gap mt-3">
        <div class="container">
            <div class="row">
                <div class="col-lg-3  col-md-6 col-sm-6">
                    <div class="single-footer-widget">
                        <h6>About Us</h6>
                        <p>
                            Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt
                            ut labore dolore
                            magna aliqua.
                        </p>
                    </div>
                </div>
                <div class="col-lg-4  col-md-6 col-sm-6">
                    <div class="single-footer-widget">
                        <h6>Newsletter</h6>
                        <p>Stay update with our latest</p>
                        <div class="" id="mc_embed_signup">

                            <form target="_blank" novalidate="true" action="https://spondonit.us12.list-manage.com/subscribe/post?u=1462626880ade1ac87bd9c93a&amp;id=92a4423d01"
                                method="get" class="form-inline">

                                <div class="d-flex flex-row">

                                    <input class="form-control" name="EMAIL" placeholder="Enter Email" onfocus="this.placeholder = ''"
                                        onblur="this.placeholder = 'Enter Email '" required="" type="email">


                                    <button class="click-btn btn btn-default"><i class="fa fa-long-arrow-right"
                                            aria-hidden="true"></i></button>
                                    <div style="position: absolute; left: -5000px;">
                                        <input name="b_36c4fd991d266f23781ded980_aefe40901a" tabindex="-1" value=""
                                            type="text">
                                    </div>

                                    <!-- <div class="col-lg-4 col-md-4">
													<button class="bb-btn btn"><span class="lnr lnr-arrow-right"></span></button>
												</div>  -->
                                </div>
                                <div class="info"></div>
                            </form>
                        </div>
                    </div>
                </div>
                <div class="col-lg-3  col-md-6 col-sm-6">
                    <div class="single-footer-widget mail-chimp">
                        <h6 class="mb-20">Instragram Feed</h6>
                        <ul class="instafeed d-flex flex-wrap">
                            <li><img src="img/i1.jpg" alt=""></li>
                            <li><img src="img/i2.jpg" alt=""></li>
                            <li><img src="img/i3.jpg" alt=""></li>
                            <li><img src="img/i4.jpg" alt=""></li>
                            <li><img src="img/i5.jpg" alt=""></li>
                            <li><img src="img/i6.jpg" alt=""></li>
                            <li><img src="img/i7.jpg" alt=""></li>
                            <li><img src="img/i8.jpg" alt=""></li>
                        </ul>
                    </div>
                </div>
                <div class="col-lg-2 col-md-6 col-sm-6">
                    <div class="single-footer-widget">
                        <h6>Follow Us</h6>
                        <p>Let us be social</p>
                        <div class="footer-social d-flex align-items-center">
                            <a href="#"><i class="fa fa-facebook"></i></a>
                            <a href="#"><i class="fa fa-twitter"></i></a>
                            <a href="#"><i class="fa fa-dribbble"></i></a>
                            <a href="#"><i class="fa fa-behance"></i></a>
                        </div>
                    </div>
                </div>
            </div>
            <div class="footer-bottom d-flex justify-content-center align-items-center flex-wrap">
                <p class="footer-text m-0"><!-- Link back to Colorlib can't be removed. Template is licensed under CC BY 3.0. -->
Copyright &copy;<script>document.write(new Date().getFullYear());</script> All rights reserved | This template is made with <i class="fa fa-heart-o" aria-hidden="true"></i> by <a href="https://colorlib.com" target="_blank">Colorlib</a>
<!-- Link back to Colorlib can't be removed. Template is licensed under CC BY 3.0. -->
</p>
            </div>
        </div>
    </footer>
   <script>
    function removeAddress(addId) {
  var confirmation = confirm("Are you sure you want to remove this address?");
  if (confirmation) {
    $.ajax({
      url: '/remove-address',
      data: {
        addressId: addId
      },
      method: 'post',
      success: function(response) {
        if (response.addressRemoved) {
          location.reload();
        }
      }
    });
  }
    }


  function makePrimary(addressId) {
    $.ajax({
      url: '/make-primary-address',
      data: {
        addressId: addressId
      },
      method: 'post',
      success: function(response) {
        if (response.addressMadePrimary) {
          location.reload();
        } else {
          console.log(response.error);
        }
      },
      error: function(err) {
        console.log(err);
      }
    });
  }

   </script>